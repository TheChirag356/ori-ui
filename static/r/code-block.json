{
	"$schema": "https://shadcn-svelte.com/schema/registry-item.json",
	"name": "code-block",
	"title": "Code Block",
	"type": "registry:block",
	"author": "Chirag Arora <arorachirag12005@gmail.com>",
	"description": "",
	"dependencies": [
		"shiki"
	],
	"meta": {
		"author": "TheChirag356",
		"version": "1.0.0",
		"documentation": "https://www.oriui.app/components/code-block",
		"repository": "https://github.com/TheChirag356/ori-ui"
	},
	"files": [
		{
			"content": "export { default as MultiCodeBlock } from \"./multi-code-block.svelte\";",
			"type": "registry:file",
			"target": "ori/code-block/index.ts"
		},
		{
			"content": "{\n  \"createdAt\": \"2026-01-02T14:52:31.524Z\"\n}",
			"type": "registry:file",
			"target": "ori/code-block/meta.json"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$LIB$/utils\";\n\timport { codeToHtml } from \"shiki\";\n\timport CopyButton from \"$LIB$/registry/buttons/copy-button/copy-button.svelte\";\n\timport { fly } from \"svelte/transition\";\n\n\ttype Code = {\n\t\tname: string;\n\t\ttext: string;\n\t\tlang: string;\n\t};\n\n\tinterface CodeBlockProps {\n\t\tclass?: string;\n\t\tcode?: Code[];\n\t}\n\n\tlet {\n\t\tclass: className = \"\",\n\t\tcode = []\n\t}: CodeBlockProps = $props();\n\t\n\t// holds generated HTML\n\tlet html = $state(\"\");\n\tlet selectedTab = $state(0);\n\n\t$effect(() => {\n\t\tif (!code.length) return;\n\n\t\tupdateCode(code[selectedTab]).then((newCode) => {\n\t\t\thtml = newCode;\n\t\t});\n\t});\n\n\tasync function updateCode(code: Code) {\n\t\tconst newCode = await codeToHtml(code.text, {\n\t\t\tlang: code.lang,\n\t\t\ttheme: 'vitesse-dark'\n\t\t})\n\t\tconst match = newCode.match(/<code[^>]*>[\\s\\S]*?<\\/code>/); // strips the surrounding <pre> tags\n\t\treturn match?.[0] ?? newCode;\n\t}\n</script>\n\n<div class={cn('border relative border-border rounded-md overflow-x-hidden', className)}>\n\t<div class=\"flex justify-between items-center bg-muted/30 rounded-t-md pr-4\">\n\t\t<div class=\"flex gap-3\">\n\t\t\t{#each code as lang, index}\n\t\t\t\t<button\n\t\t\t\t\tclass={cn(\n\t\t\t\t\t\t'h-full font-medium relative py-3 px-4 overflow-hidden',\n\t\t\t\t\t\tselectedTab === index\n\t\t\t\t\t\t\t? 'border-b-primary border-b text-accent-foreground'\n\t\t\t\t\t\t\t: 'text-muted-foreground hover:bg-accent/10'\n\t\t\t\t\t)}\n\t\t\t\t\tonclick={() => (selectedTab = index)}\n\t\t\t\t>\n\t\t\t\t\t<span>{lang.name}</span>\n\t\t\t\t\t{#if selectedTab === index}\n\t\t\t\t\t\t<span class=\"absolute bottom-0 left-0 w-full h-1 blur-md bg-primary\"></span>\n\t\t\t\t\t{/if}\n\t\t\t\t</button>\n\t\t\t{/each}\n\t\t</div>\n\t\t<CopyButton variant=\"ghost\" content={code[selectedTab].text} />\n\t</div>\n\n\t{#key selectedTab}\n\t\t<div class=\"absolute px-4 py-4 border-none\" in:fly={{ x: 100 }} out:fly={{ x: -100 }}>\n\t\t\t{@html html}\n\t\t</div>\n\t{/key}\n\t<div class=\"invisible px-4 py-4 border-none\" in:fly={{ x: -100 }} out:fly={{ x: 100 }}>\n\t\t{@html html}\n\t</div>\n</div>\n",
			"type": "registry:file",
			"target": "ori/code-block/multi-code-block.svelte"
		}
	]
}